<div class="dashboard-container">
  <header class="dashboard-header">
    <h1>Employee Dashboard</h1>

    <app-sf-button
      *ngIf="canAdd"
      cssClass="e-primary btn-primary"
      aria-label="Add employee"
      (clicked)="onAddEmployee()">
      Add Employee
    </app-sf-button>
  </header>

  <!-- Filters -->
  <section class="filters-section" aria-label="Filters">

    <!-- Search -->
    <div class="filter-group">
      <label class="visually-hidden" for="employee-search">Search employees</label>
      <input
        id="employee-search"
        type="text"
        class="search-input"
        placeholder="Search employees..."
        aria-label="Search employees"
        [value]="searchQuery"
        (input)="onSearchChange($event)" />
    </div>

    <!-- Department Filter -->
    <div class="filter-group">
      <label class="visually-hidden" for="department-filter">Department</label>
      <app-sf-dropdown
        id="department-filter"
        ariaLabel="Department"
        placeholder="Select Department"
        [dataSource]="departmentDropdownOptions"
        [fields]="{ text: 'text', value: 'value' }"
        [value]="selectedDepartment || ''"
        (valueChange)="onDepartmentDropdownChange($event)">
      </app-sf-dropdown>
    </div>

    <!-- Status Filter -->
    <div class="filter-group">
      <label class="visually-hidden" for="status-filter">Status</label>
      <app-sf-dropdown
        id="status-filter"
        ariaLabel="Status"
        placeholder="Select Status"
        [dataSource]="statusDropdownOptions"
        [fields]="{ text: 'text', value: 'value' }"
        [value]="selectedStatus || ''"
        (valueChange)="onStatusDropdownChange($event)">
      </app-sf-dropdown>
    </div>

    <!-- Clear Filters -->
    <app-sf-button
      cssClass="e-outline btn-secondary"
      (clicked)="clearFilters()">
      Clear Filters
    </app-sf-button>

  </section>

  <!-- Grid -->
  <section class="grid-container" aria-label="Employees grid">
    <ejs-grid
      #grid
      [dataSource]="gridData"
      [allowPaging]="true"
      [allowSorting]="true"
      [allowFiltering]="true"
      [pageSettings]="pageSettings"
      [filterSettings]="filterSettings">

      <e-columns>
        <e-column field="id" headerText="ID" width="80"></e-column>
        <e-column field="firstName" headerText="First Name" width="120"></e-column>
        <e-column field="lastName" headerText="Last Name" width="120"></e-column>
        <e-column field="email" headerText="Email" width="200"></e-column>
        <e-column field="phone" headerText="Phone" width="150"></e-column>
        <e-column field="department" headerText="Department" width="120"></e-column>
        <e-column field="position" headerText="Position" width="150"></e-column>
        <e-column field="status" headerText="Status" width="120"></e-column>
        <e-column field="hireDate" headerText="Hire Date" width="120"></e-column>
        <e-column field="salaryDisplay" headerText="Salary" width="140"></e-column>

        <!-- Actions -->
        <e-column headerText="Actions" width="240">
          <ng-template #template let-data>
            <div class="action-buttons" role="group" aria-label="Employee actions">
              <app-sf-button cssClass="e-link btn-view" (clicked)="onViewEmployee(data.id)">View</app-sf-button>
              <app-sf-button *ngIf="canEdit" cssClass="e-outline btn-edit" (clicked)="onEditEmployee(data.id)">Edit</app-sf-button>
              <app-sf-button *ngIf="canDelete" cssClass="e-danger btn-delete" (clicked)="onDeleteEmployee(data.id)">Delete</app-sf-button>
            </div>
          </ng-template>
        </e-column>
      </e-columns>

    </ejs-grid>
  </section>

</div>
